<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- Define title -->
    <title>Kennedy CV</title>

    <!-- Include favicon. Use, e.g., https://favicon.io/ -->
    <link rel="icon" type="image/x-icon" href="../static/images/signature_favico.ico" sizes="32x32"/>

    <!-- Include style sheets -->
    <link rel="stylesheet" href="../static/css/main.css"/>

    <!-- Fonts from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;600&display=swap" rel="stylesheet"/>

    <!-- Load FontAwesome (for icons) -->
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
            integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
            crossorigin="anonymous"
    />

    <!-- Load Academicons (for more icons) -->
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.2/css/academicons.min.css"
            integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg=="
            crossorigin="anonymous"
    />

</head>

<!-- Import PDF.js Express as a script tag from the lib folder using a relative path -->
<script src='../static/js/PDFJSExpress/lib/webviewer.min.js'></script>

<body>
<select id="select">
    <option value="/static/Kennedy_resume.pdf">Kennedy_resume.pdf</option>
    <option value="/static/Kennedy_cv.pdf">Kennedy_cv.pdf</option>
</select>

<div id='viewer'></div>

<script>
    WebViewer({
        path: '../static/js/PDFJSExpress/lib', // path to the PDF.js Express 'lib' folder on your server
        licenseKey: '5zXV58Q00oe7kChLNWu8',
        initialDoc: '../static/Kennedy_resume.pdf',
    }, document.getElementById('viewer'))
        .then(instance => {
            const docViewer = instance.Core.documentViewer;
            const annotManager = instance.Core.annotationManager;
            // call methods from instance, documentViewer and annotationManager as needed
            instance.setFitMode(instance.FitMode.FitWidth)

            annotManager.enableReadOnlyMode()
            instance.UI.disableElements(['toolbarGroup-View']);
            instance.UI.disableElements(['toggleNotesButton']);

            document.getElementById('select').onchange = (e) => {
                instance.UI.loadDocument(e.target.value);
            };

            // TODO:
            //    * download button?

            // you can also access major namespaces from the instance as follows:
            // const Tools = instance.Core.Tools;
            // const Annotations = instance.Core.Annotations;

            docViewer.addEventListener('documentLoaded', () => {
                // call methods relating to the loaded document
            });
        });
</script>
</body>
</html>
